<!DOCTYPE html>
<html>
<head>
    <!--=include meta.html -->
    <style type="text/css">
        .section-example {
            border: 1px solid #ffba33;
            background: rgba(255, 186, 51, 0.1);
            width: 100%;
        }

        .section-example--content {
            margin: 100px 70px 30px;
            text-align: center;
        }
    </style>
</head>
<body class="docs debug theme--dark theme--light1">
<!--=include nojs-nocss.html -->
<!--content-start-->
<div class="content-wrap allow-user-select">
    <div class="docs-block">
        <h1 style="color: #ddd;">Тулбар плавающий</h1>
        <div class="text">
            <p style="background: rgba(0,0,0,.03)">Равным образом дальнейшее развитие различных форм деятельности требуют определения и уточнения модели развития. Повседневная практика показывает, что укрепление и развитие структуры представляет собой интересный эксперимент проверки новых предложений. Не следует, однако забывать, что начало повседневной работы по формированию позиции требуют определения и уточнения позиций, занимаемых участниками в отношении поставленных задач. Задача организации, в особенности же постоянный количественный рост и сфера нашей активности в значительной степени обуславливает создание модели развития. Идейные соображения высшего порядка, а также консультация с широким активом требуют от нас анализа дальнейших направлений развития.</p>
            <p>Задача организации, в особенности же реализация намеченных плановых заданий обеспечивает широкому кругу (специалистов) участие в формировании форм развития. Равным образом реализация намеченных плановых заданий способствует подготовки и реализации модели развития. Задача организации, в особенности же дальнейшее развитие различных форм деятельности в значительной степени обуславливает создание систем массового участия.</p>
        </div>
    </div>

    <div class="docs-block">
        <h2>Правая панель</h2>
        <p>Когда-нибудь про неё напишу...</p>
    </div>

    <div class="docs-block">
        <h2>Тулбар в секции</h2>
        <p>Пример секции:</p>
        <p>
            <div class="section-example pos-rel">
                <div class="ed-toolbar__container ed-toolbar__item-delimiter--v1 ed-toolbar-popover--drop-down ed-toolbar__container--place-fixed-top-left">
                    <div class="ed-toolbar ed-toolbar--has-folders clearfix">
                        <div class="ed-toolbar__item">
                            <div class="ed-toolbar__item--text">2</div>
                        </div>
                        <div class="ed-toolbar__item-delimiter"></div>
                        <div class="ed-toolbar__folder folded">
                            <div class="ed-toolbar--fold-helper-1">
                                <div class="ed-toolbar--fold-helper-2">
                                    <div class="ed-toolbar__item">
                                        <div class="svg-button ed-toolbar__item-button">
                                            <svg class="hotdog-panel__icon" viewBox="0 0 24 24" id="img__search-24" width="100%" height="100%">
                                                <use xlink:href="/svg/sprite.svg#search"></use>
                                            </svg>
                                        </div>
                                    </div>
                                    <div class="ed-toolbar__item">
                                        <div class="svg-button ed-toolbar__item-button">
                                            <svg class="hotdog-panel__icon" viewBox="0 0 24 24" id="img__search-24" width="100%" height="100%">
                                                <use xlink:href="/svg/sprite.svg#search"></use>
                                            </svg>
                                        </div>
                                    </div>
                                    <div class="ed-toolbar__item ed-toolbar__item--openable js-ed-toolbar__item--openable">
                                        <div class="svg-button ed-toolbar__item-button">
                                            <svg viewBox="0 0 24 24" width="100%" height="100%">
                                                <use xlink:href="/svg/sprite.svg#trash"></use>
                                            </svg>
                                        </div>
                                        <div class="ed-toolbar-popover ed-toolbar-popover--menu">
                                            <div class="ed-toolbar-popover-menu-item"><span>One</span></div>
                                            <div class="ed-toolbar-popover-menu-item"><span>Two 2</span></div>
                                            <div class="ed-toolbar-popover-menu-item"><span>Three 33</span></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="ed-toolbar__item ed-toolbar__item--minimizer">
                            <div class="svg-button ed-toolbar__item-button">
                                <svg class="hotdog-panel__icon" viewBox="0 0 24 24" id="img__search-24" width="100%" height="100%">
                                    <use xlink:href="/svg/sprite.svg#arrows-alt-h"></use>
                                </svg>
                            </div>
                        </div>
                    </div>
                    <div class="ed-toolbar clearfix ed-toolbar--stick-from-right">
                        <div class="ed-toolbar__item ed-toolbar__item">
                            <div class="ed-toolbar__item--text">индикаторы</div>
                        </div>
                        <div class="ed-toolbar__item ed-toolbar__item--icon">
                            <div class="ed-toolbar__icon">
                                <svg class="hotdog-panel__icon" viewBox="0 0 24 24" id="img__search-24" width="100%" height="100%">
                                    <use xlink:href="/svg/sprite.svg#eye-off"></use>
                                </svg>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="section-example--content">
        <p>--- контент секции ---</p>
    </div>
</div>
</p>
<p>У секции тулбар <strong>статичный</strong> (в отличие от блоков) и прицеплен к левому верхнему краю секции.</p>
<p>Самое первое, что показывается в тулбаре - это порядковый номер секции. Основные иконки секции свернуты.</p>
<h3>Как сделать сворачиваемые иконки</h3>
<ul class="mtr-list--bullets">
    <li>Родителю тулбара (секции) добавить класс <code>pos-rel</code>. Относительно него тулбар будет позиционироваться.</li>
    <li>Контейнеру тулбара (.ed-toolbar__container) добавить класс <code>ed-toolbar__container--place-fixed-top-left</code>.</li>
    <li>Самому тулбару (.ed-toolbar), в котором будут сворачиваемые иконки, добавляем класс <code>ed-toolbar--has-folders</code>.</li>
    <li>Иконки, которые будут сворачиваться и разворачиваться, оборачиваются тремя элементами: <code>ed-toolbar__folder</code>, <code>ed-toolbar--fold-helper-1</code>, <code>ed-toolbar--fold-helper-2</code>. Они перечислены в порядке вложенности.</li>
    <li>Для кнопки, которая сворачивает и разворачивает - добавить класс <code>ed-toolbar__item--minimizer</code>.</li>
</ul>

<h3>Индикаторы</h3>
<p>Тулбар секции может иметь также часть с индикаторами. Это просто иконки, показывающие (например) что секция закреплена или скрыта. Они не нажимаются и имеют cursor: default.</p>
<p>Добавить тулбар с индикаторами можно в контейнер ed-toolbar__container. Внутри него просто создается еще один тулбар.</p>
<p>Чтобы сделать индикатор, добавляем элемент ed-toolbar__item с классом <code>ed-toolbar__item--icon</code>. У него внутри <code>ed-toolbar__icon</code>. И в нем уже svg-иконка.</p>

<h3>@todo</h3>
<p>сделать чтобы кнопка сворачивания/разворачивания не имела цвета на ховере.</p>

</div>
</div>

<div class="ed-toolbar__basement">
    <div class="ed-toolbar__marker" style="width: 600px; top: 100px; left: 100px;">
        <div class="ed-toolbar__container ed-toolbar__container--place-above ed-toolbar__container--place-from-right1 ed-toolbar__item-delimiter--v1 ed-toolbar-popover--drop-down clearfix">
            <div class="ed-toolbar ed-toolbar--stick-from-left" style="display: none;">
                L
            </div>
            <div class="ed-toolbar ed-toolbar--full-rounded1" style="white-space: nowrap;">
                <div class="ed-toolbar__item ed-toolbar__item">
                    <div class="ed-toolbar__item--text">Текст</div>
                </div>
                <div class="ed-toolbar__item">
                    <div class="svg-button ed-toolbar__item-button">
                        <svg class="hotdog-panel__icon" viewBox="0 0 24 24" id="img__search-24" width="100%" height="100%">
                            <use xlink:href="/svg/sprite.svg#search"></use>
                        </svg>
                    </div>
                </div>
                <div class="ed-toolbar__item ed-toolbar__item--openable js-ed-toolbar__item--openable">
                    <div class="svg-button ed-toolbar__item-button">
                        <svg class="hotdog-panel__icon" viewBox="0 0 24 24" id="img__settings-24" width="100%" height="100%">
                            <use xlink:href="/svg/sprite.svg#cog"></use>
                        </svg>
                    </div>
                    <div class="ed-toolbar-popover ed-toolbar-popover--basic">
                        subpanel<br/>zz
                    </div>
                </div>
                <div class="ed-toolbar__item-delimiter"></div>
                <div class="ed-toolbar__item ed-toolbar__item--openable js-ed-toolbar__item--openable">
                    <div class="svg-button ed-toolbar__item-button">
                        <svg viewBox="0 0 24 24" width="100%" height="100%">
                            <use xlink:href="/svg/sprite.svg#ellipsis-h"></use>
                        </svg>
                    </div>
                    <div class="ed-toolbar-popover ed-toolbar-popover--menu">
                        <div class="ed-toolbar-popover-menu-item"><span>One</span></div>
                        <div class="ed-toolbar-popover-menu-item"><span>Two 2</span></div>
                        <div class="ed-toolbar-popover-menu-item"><span>Three 33</span></div>
                    </div>
                </div>
            </div>
            <div class="ed-toolbar ed-toolbar--stick-from-right" style="white-space: nowrap; display: none;">
                stick right
            </div>
        </div>
    </div>
</div>

<div class="ed-sidebar__basement">
    <div class="ed-sidebar">
        <div class="ed-sidebar__header">
            <div class="ed-sidebar__nav clearfix">
                <div class="ed-sidebar__nav-item js-ed-sidebar__nav-item ed-sidebar__nav-item--active">
                    <div class="svg-button ed-toolbar__item-button">
                        <svg class="hotdog-panel__icon" viewBox="0 0 24 24" id="img__search-24" width="100%" height="100%">
                            <use xlink:href="/svg/sprite.svg#search"></use>
                        </svg>
                    </div>
                </div>
                <div class="ed-sidebar__nav-item js-ed-sidebar__nav-item">
                    <div class="svg-button ed-toolbar__item-button">
                        <svg class="hotdog-panel__icon" viewBox="0 0 24 24" id="img__search-24" width="100%" height="100%">
                            <use xlink:href="/svg/sprite.svg#search"></use>
                        </svg>
                    </div>
                </div>
                <div class="ed-sidebar__nav-underline"></div>
            </div>
            <div class="ed-sidebar__close">
                <div class="svg-button ed-toolbar__item-button">
                    <svg viewBox="0 0 14 14" id="img__close-black" width="100%" height="100%">
                        <use xlink:href="/svg/sprite.svg#times"></use>
                    </svg>
                </div>
            </div>
        </div>
        <div class="ed-sidebar__body">
            <div class="ed-sidebar__tabs-content-wrap clearfix">
                <div class="ed-sidebar__tab-content scrollable">
                    <div class="ed-sidebar__tab-content-head">Заголовок 1</div>
                    <div class="ed-sidebar__tab-content-body">cont1</div>
                </div>
                <div class="ed-sidebar__tab-content scrollable">
                    <div class="ed-sidebar__tab-content-head">Заголовок 2 zz zz zz zz zz zz zz zz zz zz zz zz zz zz zz zz zz zz zz</div>
                    <div class="ed-sidebar__tab-content-body">
                        cont2<br/>z<br/>z<br/>z<br/>z<br/>z<br/>z<br/>z<br/>z<br/>z<br/>z<br/>z<br/>z<br/>z<br/>z<br/>z<br/>z<br/>z<br/>z<br/>z<br/>z<br/>z<br/>z<br/>z<br/>z<br/>z<br/>z<br/>z<br/>z<br/>z<br/>z<br/>z<br/>z<br/>z<br/>z<br/>z<br/>z<br/>z<br/>z<br/>z<br/>z<br/>z<br/>z<br/>z<br/>z<br/>z<br/>z<br/>z<br/>z<br/>z<br/>z<br/>z<br/>z<br/>z<br/>z<br/>z<br/>z<br/>z<br/>z<br/>z<br/>z<br/>z----------z
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!--<script type="text/javascript" src="/jquery.min.js"></script>-->
<script src="https://code.jquery.com/jquery-3.4.1.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<script type="text/javascript">
    $(document).on('click', '.js-ed-toolbar__item--openable', function () {
        $(this).toggleClass('ed-toolbar__item--is-opened');
    });

    $(document).on('click', '.js-ed-sidebar__nav-item', function () {
        $('.ed-sidebar .ed-sidebar__nav-item--active').removeClass('ed-sidebar__nav-item--active');
        $(this).addClass('ed-sidebar__nav-item--active');
        var index = $(this).index();
        var w = $('.ed-sidebar__tab-content:first').width();
        $('.ed-sidebar__tabs-content-wrap').css('left', -index * w);
    });

    $(document).on('click', '.ed-sidebar__close', function (e) {
        $('.ed-sidebar').css('right', -1 * $('.ed-sidebar').outerWidth());
        return false;
    });

    $(document).on('click', '.ed-toolbar__item--minimizer', function (e) {
        var $toolbar = $(this).closest('.ed-toolbar');
        var $wrap = $toolbar.find('.ed-toolbar__folder');
        var $foldHelper1 = $toolbar.find('.ed-toolbar--fold-helper-1');
        var $foldHelper2 = $toolbar.find('.ed-toolbar--fold-helper-2');
        var wrapW, toolbarW;

        // задает скорость сворачивания
        // изменяя здесь надо также поменять задержку в CSS. Ищи слово "change5954"
        var speed = 0.2;

        if ($wrap.hasClass('folded')) {
            wrapW = $foldHelper2.outerWidth();
            toolbarW = $toolbar.outerWidth();
            $foldHelper1.addClass('big-width');

            // задаем буквальные ширины блоков, в пикселях
            $wrap.css({width: 0});
            $toolbar.css({width: toolbarW});
            $wrap.removeClass('folded');

            // это нужно чтобы спровофировать reflow браузера
            $wrap.outerWidth();
            $toolbar.outerWidth();

            // запускаем анимацию
            $wrap.css({width: wrapW});
            $toolbar.css({width: toolbarW + wrapW});

            setTimeout(function () {
                // подчищаем после завершения анимации
                $toolbar.removeAttr('style');

                // пришлось сделать такие вложенные setTimeout, т.к. иногда последняя иконка прыгала
                setTimeout(function () {
                    $foldHelper1.removeClass('big-width');
                    setTimeout(function () {
                        $wrap.removeAttr('style');
                    }, 100);
                }, 100);
            }, speed * 1000 + 10);
        } else {
            wrapW = $wrap.outerWidth();
            toolbarW = $toolbar.outerWidth();

            // задаем буквальные ширины блоков, в пикселях
            $wrap.css({width: wrapW});
            $toolbar.css({width: toolbarW});
            $foldHelper1.addClass('big-width');

            // это нужно чтобы спровофировать reflow браузера
            $wrap.outerWidth();
            $toolbar.outerWidth();

            // запускаем анимацию
            $wrap.css({width: 0});
            $toolbar.css({width: toolbarW - wrapW});

            setTimeout(function () {
                // подчищаем после завершения анимации
                $wrap.addClass('folded').removeAttr('style');
                $toolbar.removeAttr('style');
                $foldHelper1.removeClass('big-width');
            }, speed * 1000);
        }

        return false;
    });
</script>
<!--content-end-->
</body>
</html>